# Configure for a Network Load Balancer

On the \[Integrate with Network Load Balancer] page, we have shown you how to install VNGCloud Controller Manager, create and apply yaml file. The following are detailed meanings of the information you can set in the yaml file:

#### Annotations <a href="#configureforanetworkloadbalancer-annotation" id="configureforanetworkloadbalancer-annotation"></a>

Use the annotations below to customize the Load Balancer to suit your needs:

| Annotations                                  | Required/Not required | Meaning                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| -------------------------------------------- | --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| vks.vngcloud.vn/load-balancer-id             | Optional              | <ul><li><strong>If you do not already have a</strong> previously initialized Network Load Balancer on the vLB system. We will automatically create 1 NLB on your cluster. This NLB will be displayed on vLB Portal, details can be accessed <a href="https://hcm-3.console.vngcloud.vn/vserver/load-balancer/vlb">here</a></li><li><strong>If you already have a</strong> previously initialized Network Load Balancer on the vLB system and you want to reuse the NLB for your cluster. Now, please enter the Load Balancer ID information into this annotation.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| vks.vngcloud.vn/load-balancer-name           | Optional              | <ul><li>Annotation <code>vks.vngcloud.vn/load-balancer-name</code>will be used if you <strong>do not</strong> use annotation <code>load-balancer-id</code>.</li><li>Annotation <code>vks.vngcloud.vn/load-balancer-name</code> <strong>only makes sense</strong> when you create a new load balancer. After the load balancer is successfully created, this annotation <strong>will be automatically deleted</strong> . Using this annotation after the load balancer has been created will <strong>have no effect</strong> .</li><li><strong>When you use this annotation, if you do not already have a</strong> previously initialized Network Load Balancer on the vLB system. We will automatically create 1 NLB on your cluster. This ALB will be displayed on vLB Portal, details can be accessed <a href="https://hcm-3.console.vngcloud.vn/vserver/load-balancer/vlb">here</a></li><li><strong>If you already have a</strong> previously initialized Network Load Balancer on the vLB system and you want to reuse the NLB for your cluster. Now, please enter the Load Balancer Name information into this annotation.</li></ul> |
| vks.vngcloud.vn/package-id                   | Optional              | <ul><li>If you do not enter this information, we will use the <strong>NLB Small configuration by default.</strong></li><li>If you already have an ACTIVE vLB host and you want to integrate this host into your K8S cluster, please skip this information field.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| vks.vngcloud.vn/tags                         | Optional              | <ul><li>The tag is added to your NLB.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| vks.vngcloud.vn/scheme                       | Optional              | <ul><li>Default is <strong>internet-facing</strong> , you can change it to <strong>internal</strong> depending on your needs.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| vks.vngcloud.vn/security-groups              | Optional              | <ul><li>By default, a <strong>default security group</strong> will be created according to your Cluster.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| vks.vngcloud.vn/inbound-cidrs                | Optional              | <ul><li>Default All CIRD: <strong>0.0.0.0/0</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| vks.vngcloud.vn/healthy-threshold-count      | Optional              | <ul><li>Default <strong>3</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| vks.vngcloud.vn/unhealthy-threshold-count    | Optional              | <ul><li>Default <strong>3</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| vks.vngcloud.vn/healthcheck-interval-seconds | Optional              | <ul><li>Default <strong>30</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| vks.vngcloud.vn/healthcheck-timeout-seconds  | Optional              | <ul><li>Default <strong>5</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| vks.vngcloud.vn/healthcheck-protocol         | Optional              | <ul><li>Default <strong>TCP</strong> . Users can select one of the values ​​TCP/ HTTP/ HTTPS/ PING-UDP</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| vks.vngcloud.vn/healthcheck-http-method      | Optional              | <ul><li>Default <strong>GET</strong> . User can choose one of GET / POST / PUT values</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| vks.vngcloud.vn/healthcheck-path             | Optional              | <ul><li>Default <strong>/</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| vks.vngcloud.vn/healthcheck-http-version     | Optional              | <ul><li>Default <strong>1.0</strong> . Users can choose one of the values ​​1.0, 1.1</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| vks.vngcloud.vn/healthcheck-http-domain-name | Optional              | <ul><li>Default is empty</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| vks.vngcloud.vn/healthcheck-port             | Optional              | <ul><li>Default <strong>traffic port</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| vks.vngcloud.vn/success-codes                | Optional              | <ul><li>Default <strong>200</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| vks.vngcloud.vn/idle-timeout-client          | Optional              | <ul><li>Default <strong>50</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| vks.vngcloud.vn/idle-timeout-member          | Optional              | <ul><li>Default <strong>50</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| vks.vngcloud.vn/idle-timeout-connection      | Optional              | <ul><li>Default <strong>5</strong></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| vks.vngcloud.vn/pool-algorithm               | Optional              | <ul><li>Default <strong>ROUND_ROBIN</strong> . The user can select one of the values ​​ROUND_ROBIN / LEAST_CONNECTIONS / SOURCE_IP</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| vks.vngcloud.vn/target-node-labels           | Optional              | <ul><li>Default is empty</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| vks.vngcloud.vn/enable-proxy-protocol        | Optional              | <ul><li>Default is empty. The user specifies a list of service names in the Load Balancer to which the Proxy Protocol will be applied.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
