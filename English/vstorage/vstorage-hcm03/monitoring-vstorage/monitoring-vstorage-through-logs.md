# Monitoring vStorage Through Logs

#### What is logs? <a href="#monitoringvstoragethroughlogs-whatislogs" id="monitoringvstoragethroughlogs-whatislogs"></a>

A log is a collection of events that are collected at different points in time. These events are typically generated by applications or services and contain full context information at the time the event occurred.

***

#### Why are logs useful? <a href="#monitoringvstoragethroughlogs-whyarelogsuseful" id="monitoringvstoragethroughlogs-whyarelogsuseful"></a>

Logs are an important element of cybersecurity. When done properly, logging can provide us with a clear view of what is happening or has happened in our system, allowing us to verify events with greater accuracy and make adjustments as needed.

***

#### **Monitoring vStorage through vStorage logs on the vMonitor Platform** <a href="#monitoringvstoragethroughlogs-monitoringvstoragethroughvstoragelogsonthevmonitorplatform" id="monitoringvstoragethroughlogs-monitoringvstoragethroughvstoragelogsonthevmonitorplatform"></a>

Monitoring vStorage through logs is easy when you use the vMonitor Platform. We have transferred logs from vStorage to vMonitor Platform regularly every 5 minutes. Rest assured that vMonitor Platform is also a product of the VNG Cloud ecosystem. You can use vMonitor Platform to configure monitoring features based on vStorage logs. Of course, to be able to monitor, you need to purchase a log quota package for the vMonitor Platform service. For details, please refer to vMonitor Platform.

The log content pushed to the system includes the following information:

| STT | Fields               | Meaning                                                                                                                                                                                   |
| --- | -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| STT | Fields               | Meaning                                                                                                                                                                                   |
| 1   | @timestamp           | Thời gian sự kiện bắt đầu tương tự nội dung field "request\_start\_time"                                                                                                                  |
| 2   | account              | Account ID của tài khoản vStorage, có định dạng AUTH\_\<ID>                                                                                                                               |
| 3   | bytes\_per\_second   | Vận tốc tải lên hoặc tải xuống tùy ngữ cảnh của request, số được tính toán dựa trên dữ liệu máy chủ gửi, nhận và thời gian để hoàn thành                                                  |
| 4   | bytes\_recvd         | Tổng số bytes dữ liệu máy chủ nhận được , tương đương với chiều người dùng tải lên dữ liệu                                                                                                |
| 5   | bytes\_sent          | Tổng số bytes dữ liệu máy chủ đã gửi tới ngươi dùng, tương đương với chiều người dùng tải xuống dữ liệu                                                                                   |
| 6   | bytes\_sum           | Tổng số bytes cả hai chiều tải lên và tải xuống                                                                                                                                           |
| 7   | client\_country      | Quốc gia của địa chỉ IP đã tương tác                                                                                                                                                      |
| 8   | client\_ip           | Địa chỉ IP của thiết bị đã tương tác                                                                                                                                                      |
| 9   | cls\_service         | Đại diện dịch vụ đã sinh ra dòng Log. Ví dụ: vStorage                                                                                                                                     |
| 10  | container            | Tên của container                                                                                                                                                                         |
| 11  | host                 | VNGCLOUD                                                                                                                                                                                  |
| 12  | lag\_seconds         | <p><br></p>                                                                                                                                                                               |
| 13  | object               | Tên của object                                                                                                                                                                            |
| 14  | policy\_index        | ID của gói lưu trữ: Gold/Silver/Archive theo thứ tự là 0,1,2                                                                                                                              |
| 15  | project\_id          | ID của project                                                                                                                                                                            |
| 16  | received\_at         | Thời gian nhận request                                                                                                                                                                    |
| 17  | referer              | Thông tin địa chỉ website đã yêu cầu object trực tiếp từ browser người dùng trong trường hợp container được public hoặc qua vCDN                                                          |
| 18  | region               | Khu vực lưu trữ trên vStorage. Ví dụ: HCM01, HAN01                                                                                                                                        |
| 19  | request\_end\_time   | Thời gian request hoàn tất trên máy chủ lưu trữ                                                                                                                                           |
| 20  | request\_method      | Method của request thường là GET/PUT/POST/DELETE/HEAD                                                                                                                                     |
| 21  | request\_path        | Đường dẫn đầy đủ của request                                                                                                                                                              |
| 22  | request\_start\_time | Thời gian bắt đầu nhận request từ người dùng                                                                                                                                              |
| 23  | request\_time        | Tổng thời gian hoàn tất yêu cầu theo đơn vị giây (seconds)                                                                                                                                |
| 24  | source               | Nguồn xuất phát Request. Ví dụ: "S3" tức request khách hàng đang dùng S3 kết nối, "-" request đang dùng Swift, "SLO" request đang dùng Large Object và đang thực hiện segments/Multipart  |
| 25  | status\_int          | Mã phản hồi từ máy chủ thể hiện thành công hoặc thất bại. Ví dụ: 200, 201, 401, 404...                                                                                                    |
| 26  | storage\_class       | Storage class mà Container đã đăng ký (Gold/Silver/Archive)                                                                                                                               |
| 27  | transaction\_id      | ID của Request đã thực hiện dùng truy vết hoặc so sánh một Request cụ thể giữa máy chủ và khách hàng                                                                                      |
| 28  | user\_agent          | Thông tin User-Agent trong Request HTTP, thể hiện phiên bản Client/Browser/Application đang thực hiện kết nối đến máy chủ để thực thi Request                                             |
